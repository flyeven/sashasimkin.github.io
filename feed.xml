<?xml version="1.0" encoding="UTF-8"?> <rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"> <channel><title>Александр Симкин</title> <description>Блог Симкина Александра, тут я могу писать о чём захочу, но в основном программирование и что-то забавное. </description><link>https://sima.pro/</link> <atom:link href="https://sima.pro/feed.xml" rel="self" type="application/rss+xml"/> <pubDate>Fri, 08 Jan 2016 00:10:40 +0200</pubDate> <lastBuildDate>Fri, 08 Jan 2016 00:10:40 +0200</lastBuildDate> <generator>Jekyll v2.5.3</generator> <item><title>Теперь gihub.pages</title> <description>&lt;p&gt;Теперь это будет жить на github.pages. Действительно, это очень интересно, что github смог собрать блог.&lt;br /&gt; Похоже что все гемы которые я использовал поддерживаются их сборщиком. Круто. :)&lt;/p&gt;&lt;p&gt;ToDo: Написать пост о том как эта связка сейчас работает.&lt;/p&gt; </description> <pubDate>Thu, 07 Jan 2016 18:59:00 +0200</pubDate><link>https://sima.pro/2016/01/07/move-again.html</link> <guid isPermaLink="true">https://sima.pro/2016/01/07/move-again.html</guid> <category>blog</category> </item> <item><title>Как я (мы) бас гитару переделывали</title> <description>&lt;p&gt;Дошли руки написать пост про то как мы переделывали мой безголовый бас.&lt;/p&gt;&lt;p&gt;Для начала немного предыстории:&lt;br /&gt; Захотелось попробовать поиграть на басу, и не захотелось отдавать за это много монет. Решил найти что подешевле, но с обязательными требованиями в виде 1(2) хамбакеров и 22+ лада, а желательно 24. И нашел! Правда эта штука была &lt;span style="cursor: help;" title="Это такой вид гитар, у которых отсутствует перо грифа, а колки чаще всего имплантированы в бридж."&gt;&lt;b&gt;безголовой (headless)&lt;/b&gt;&lt;/span&gt; и формы неправильной, треугольной совковой лопаты.&lt;br /&gt; &lt;img src="/post-img/asis.jpg" alt="Начальная форма" /&gt;&lt;br /&gt; &lt;img src="/post-img/asis-sounding-board.jpg" alt="Только дека" /&gt;&lt;br /&gt; И это дело оказалось жутко неудобным. Было решено переделывать деку на что-то стратоподобное. Купил электролобзик для этих целей, доску сосновую толщиной 40мм и начали ваять. Для начала - спилить нахуй эти рога.&lt;br /&gt; &lt;img src="/post-img/shape.jpg" alt="Форма" /&gt;&lt;br /&gt; Отлично. Можно, конечно и так играть (и такие мысли одолевали пару раз) но как-то не комильфо. Поэтому режем купленную доску на 3 части, и склеиваем это всё добро с нашим обрубком с помощью эпоксидной смолы, и рисуем форму.&lt;br /&gt; &lt;img src="/post-img/clipped-form.jpg" alt="Форма на заготовке" /&gt;&lt;br /&gt; Дальше эту штуку нужно отшлифовать, пошпаклевать, и вырезать все нужные отверстия. Аж одно под темброблок, три для потенциометров, и одно под джэк. Для начала ведь нужно пошпаклевать (действительно, блять!) и начали: &lt;img src="/post-img/plastered.jpg" alt="Пошпаклёвана, перед" /&gt;&lt;br /&gt; &lt;img src="/post-img/plastered-back.jpg" alt="Пошпаклёвана, зад" /&gt;&lt;br /&gt; Теперь отверстие под темброблок. Начал работать фрезой - где-то через пол часа заебался, а результат был довольно жалким: &lt;img src="/post-img/cutter.jpg" alt="Форма на заготовке" /&gt;&lt;br /&gt; Следующим логичным шагом меня назвали дебилом, и посоветовали стамеску. После этого работа пошла быстрее, и через ~ час у меня была мозоль на руке и такой результат: &lt;img src="/post-img/clipped-electronics-block.jpg" alt="Форма на заготовке" /&gt; Отверстия для джека и поциков оставили на потом. Теперь нужно красить (ORLY). Для этого было куплено водоэмульсионной краски ведро, заботливо принесён аэрограф с его обладателем, компрессор, пиво и началось! Сначала, конечно же грунтовка, ведь любой дурак знает, что краска лучше берётся на грунтовку. Грунт был хуй знает какой, но белый и из балончика. Дальше покраска, на неё ушло примерно 3-4 часа покуда не получилось более-менее ровное покрытие. Кто ж знал, что водоэмульсионкой красить дерево - не самая лучшая идея? Вот и мы не знали. И пришлось это всё отдирать к чертям собачим. Следующей идеей, при брожении по Ашану, мне стукнула моча в голову покрасить в зелёный, да не просто зелёный, а флюоресцентной краской, тобишь той, которая дожна светиться вночи. Не знаю светилась бы она, или нет, но после водоэмульсионной краски результат был немного предсказуем (но, увы, не в то время). Короче говоря через день после покраски это выглядело вот так: &lt;img src="/post-img/suffusion.jpg" alt="Блядская зелёная краска" /&gt;&lt;br /&gt; Следующим шагом стало то, что у меня отобрали эту штуку для исправление поверхности (но вот хуй т.к. толи новая краска из балона тоже была говном, толи эхо водоэмульсионки), и мы решили красить в белый, как и планировалось изначально. Для этого нужно было снова обдирать всё вплоть до дерева и шпаклевать заново. Зато после этого краска лягля относительно нормально: &lt;img src="/post-img/painted-white.jpg" alt="Окрашена в белый" /&gt;&lt;br /&gt; И последний штрих + лак: &lt;img src="/post-img/painted.jpg" alt="Окрашена финальный вариант" /&gt;&lt;br /&gt; А, чуть не забыл, отверстие для джека пришлось доводить напильником т.к. сверла нужного диаметра не оказалось. А под отверстиями под поцики ещё выковыривать т.к. вышло сликом толсто. И ещё нужно было вывести землю на бридж, как задаток для будущего экрана.&lt;/p&gt;&lt;p&gt;P.s: Теперь у меня есть дека от стратокастера, и я хочу 7-струнную гитару. Зато теперь есть опыт и немного навязчивая “сначала думать, а потом делать”.&lt;/p&gt; </description> <pubDate>Fri, 31 Jul 2015 01:22:00 +0300</pubDate><link>https://sima.pro/2015/07/31/bass-guitar.html</link> <guid isPermaLink="true">https://sima.pro/2015/07/31/bass-guitar.html</guid> <category>blog</category> <category>bass</category> <category>music</category> </item> <item><title>Хомяк!</title> <description>&lt;p&gt;В общем теперь у нас есть хомяк :) Вспомнил кошерную пасту на эту тему:&lt;/p&gt;&lt;blockquote&gt; &lt;p&gt;Смерть хомячка притягательна своей трагикомичностью — он умирает так ловко, так разнообразно, с таким восхитительным упорством, что прочим смертным остается только превратить его гибель в изумительную легенду. Я глубоко убежден, что у каждого человека есть история о том, как умер его хомячок или хомячок его близких. Моя убежденность еженедельно подпитывается беседами с малознакомыми людьми, в диапазоне от таксистов до деловых партнеров. А ведь только в смерти эти злые и беспринципные твари обретают истинную индивидуальность. Мало есть хомяков, которые бы умерли одинаково. В этом есть смысл. Хомяки, по сути, и рождаются только для смерти: кто дохнет, как понос, быстро и со свистом, кто тихо, как пуля снайпера или пердеж в лифте, кто самоотверженно мучеником отходят. А вот ни один своей смертью не умер. Недавно одна знакомая заявила, что не понимает, что может быть уникального в смерти хомяка, умер, мол, “как обычно”. На вопрос “Как именно?” ответила: “Ну как, я его жвачками накормила”. У другой знакомой моей хомяка покусали осы и он распух так, феерически, да скончался, бедняга. У друга Макса хомяка задавила тучная девушка, пришедшая в гости. Самое интересное, что эмоций у этого дирижа6ля, по словам Макса, вообще не было. Хладнокровно однако. Особенно яркая эта трагедия в семьях, где есть дети 9 и 12 лет. В общем, зверек помер, и родители не успели его подменить на нового. Ну, знаете, как это бывает: один хомяк в Валгаллу, другой из зоомагазина в клетку. Дочь плачет, сын крепится, но только потому, что папа сказал: “Мужчины не плачут”. Дети в таком возрасте вообще долго переживают смерть домашних любимцев, а Мася, к тому же, был в их ведении: клетку убирать, опилки менять, корм, все дела. И этот траур продолжается целый день. Наконец, папа говорит: “Хватит плакать, мы его похороним, как викинга”. Это детей как-то сразу заинтересовало, потому что похороны викинга они видели в мультике: В общем, папа, скрипя зубами, снимает с полки собранный в свое время драккар 1:72 (настоящий, деревянный!): Наскоро промазав днище нитролаком, чтобы сохло быстро, он проверяет корпус в ванне на водонепроницаемость и остойчивость, нагружает балластом из свинцовых грузил и вытряхивает из банки собранные десятикопеечные монеты, которыми собирался обклеить по приколу шкатулку. Дочка жертвует какие-то свои цепочки с пластиковыми сердечками, сын хочет положить “Опинель”, который папа подарил ему на День Рождения, но папа говорит, что под “Опинелем” корабль утонет. На следующее утро, благо, суббота, хомяк извлекается из холодильника, аккуратно заворачивается в заранее вырезанную кирасу из жести (с утяжелителями, чтобы не всплыл!), и вся компания отправляется на машине на карьер. Мать говорит, что не хочет в этом участвовать, но ее убеждают и она делает бутерброды. Погода, слава Богу тихая, ветерок совсем слабый - как раз, чтобы потянуть тонкий парус, но не перевернуть лодку. Корабль спускают на воду, хомяка в доспехах кладут на монетки и цепочки (прихваченные заранее на суперклей). Папа аккуратно кладет всякие горючие вещества, слегка брызгает бензином, и, подпалив драккар, толкает его от берега. Подхваченное легким ветерком, судно отплывает метров на восемь-девять, потом вспыхивает парус, мачта, наконец, модель превращает в сплошной костерок. Из магнитолы доносится уместное. Еще секунд через пять где-то, наконец, прогорело до дырок, а может волна плеснула, но драккар накренился, черпнул воды и пошел на дно. Да много ли ему там надо было - борт на сантиметр от воды. Слегка подавленная величием момента, семья ест бутерброды, когда к ним подъезжает милицейская машина. Милиционеры, надо отдать им должное, вежливо интересуются: что тут, собственно, происходит. Они, оказывается, с дороги увидели, как что-то горит на воде, ну и поехали посмотреть. Скучно же, дорога-то не дачная, утро субботы… Услышав от детей, что они похоронили хомяка по обычаю викингов, менты молча сняли фуражки, потом старший вынул пистолет, поднял вверх стволом и сказал: “Пыщ! Пыщ! Пыщ!” Младшей понравилось, сын был немного разочарован, он, видимо, надеялся, что выстрелят по-настоящему. Милиционеры сказали, что повидали всякое, но такого даже представить себе не могли. Папа скидывает им фотографии с телефона, и милиция уезжает. Обратно семья едет в суровом молчании, наконец, папа говорит, что купит детям собаку, потому что ну его нафиг, на хомяков он моделей не напасется. Мой хомяк, кстати, утонул в ведре с калиновым вареньем, в день рождения Ленина…&lt;/p&gt; &lt;/blockquote&gt;&lt;p&gt;Короче говоря - жду исполнения судьбы своей хомячихи.&lt;/p&gt; </description> <pubDate>Sun, 26 Jul 2015 01:51:54 +0300</pubDate><link>https://sima.pro/2015/07/26/hamsters.html</link> <guid isPermaLink="true">https://sima.pro/2015/07/26/hamsters.html</guid> <category>blog</category> <category>animals</category> </item> <item><title>Удаление непомеченных (untagged) образов docker</title> <description>&lt;p&gt;После того как я поигрался с docker-ом примерно неделю я обнаружил, что место на диске закончилось. Я предположил, что это случилось из-за установки множества проектов используя Dockerfile, и был прав. т.к. процесс установки создаёт отдельный образ для каждой строки из Dockerfile (каждый новый образ берёт за основу предыдущий), что ускоряет процесс сборки (т.к. при изменении Dockerfile нужно перестраивать только образы начиная со строки с изменением), но требует достаточно много места для хранения всего этого.&lt;/p&gt;&lt;p&gt;Я не смог найти встроенной комманды для удаления остановленных контейнеров и непомеченных (untagged) образов, поэтому скомбинировал несколько команд.&lt;/p&gt;&lt;p&gt;I was not able to find any built-in commands for clearing stopped containers and untagged images, so I was able to put together a couple commands.&lt;/p&gt;&lt;blockquote&gt; &lt;p&gt;&lt;small&gt;Если у вас стандартная инсталляция docker-a - для всех комманд нужно добавить &lt;code&gt;sudo&lt;/code&gt; перед &lt;code&gt;docker&lt;/code&gt; или запускать комманды от пользователя &lt;code&gt;root&lt;/code&gt;&lt;/small&gt;&lt;/p&gt; &lt;/blockquote&gt;&lt;h1 id="section"&gt;Удалить все остановленные контейнеры:&lt;/h1&gt; &lt;p&gt;Это удалит все остановленные контейнеры через получение их списка с помошью комманды &lt;code&gt;docker ps -a -q&lt;/code&gt; и передачей их идентификаторов в &lt;code&gt;docker rm&lt;/code&gt;. Эта комманда не сможет удалить запущенные контейнеры, и скажет вам об этом.&lt;/p&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;code class="language-bash" data-lang="bash"&gt;docker rm &lt;span class="k"&gt;$(&lt;/span&gt;docker ps -a -q&lt;span class="k"&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id="section-1"&gt;Удалить все непомеченные образы&lt;/h1&gt; &lt;p&gt;В основном это промежуточные образы, которые используются чтоб построить конечный, или просто устаревшие и уже не нужные.&lt;/p&gt;&lt;p&gt;Тут мы вызываем &lt;code&gt;docker images&lt;/code&gt; чтоб получить список образов, передаём его в &lt;code&gt;grep&lt;/code&gt;, для того чтоб откинуть те, которые имеют ID, и всё это попадает в &lt;code&gt;awk "{print $3}"&lt;/code&gt; чтоб извлечь третью колонку из каждой строки, которая является идентификатором образа.&lt;/p&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;code class="language-bash" data-lang="bash"&gt;docker rmi &lt;span class="k"&gt;$(&lt;/span&gt;docker images &lt;span class="p"&gt;|&lt;/span&gt; grep &lt;span class="s2"&gt;&amp;quot;^&amp;lt;none&amp;gt;&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; awk &lt;span class="s2"&gt;&amp;quot;{print $3}&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt; &lt;p&gt;&lt;small&gt;После запуска этих двух комманд я освободил 15Gb места. Если мне понадобится больше места - я всегда смогу удалить что-то ещё т.к. моя папка с образами весит 5Gb :)&lt;/small&gt;&lt;/p&gt; &lt;/blockquote&gt;&lt;p&gt;Оригинал поста: &lt;a href="http://jimhoskins.com/2013/07/27/remove-untagged-docker-images.html"&gt;http://jimhoskins.com/&lt;/a&gt;&lt;/p&gt;&lt;p&gt;P.s: &lt;a href="#" title="В процессе написания"&gt;Пост про перемещение папки с данными docker-а на другой раздел.&lt;/a&gt;&lt;/p&gt; </description> <pubDate>Sun, 24 May 2015 01:51:54 +0300</pubDate><link>https://sima.pro/2015/05/24/remove-untagged-images-docker.html</link> <guid isPermaLink="true">https://sima.pro/2015/05/24/remove-untagged-images-docker.html</guid> <category>docker</category> <category>translate</category> <category>notes</category> </item> <item><title>Welcome to Jekyll!</title> <description>&lt;p&gt;Короче говоря, я перевёл блог на Jekyll. Очень даже приятная штука, из коробки поддерживает практически всё, что нужно для блога. Для комментов - disqus, хотя кого я обманываю… :-)&lt;/p&gt;&lt;p&gt;&lt;em&gt;ToDo: Написать пост про использование Jekyll&lt;/em&gt;&lt;/p&gt; </description> <pubDate>Thu, 23 Apr 2015 23:41:54 +0300</pubDate><link>https://sima.pro/2015/04/23/welcome-to-jekyll.html</link> <guid isPermaLink="true">https://sima.pro/2015/04/23/welcome-to-jekyll.html</guid> <category>blog</category> <category>jekyll</category> <category>update</category> </item> <item><title>Операция на ПКС</title> <description>&lt;p&gt;Всё таки сделал операцию на колене, после третьего опиздюливания-то.&lt;/p&gt;&lt;p&gt;Сам процесс был довольно забавным:&lt;/p&gt;&lt;p&gt;Утром пришли с женой в больницу, у меня взяли кровь, сказали брить ногу, готовиться к операции, ну я побрил. Потом решил потрогать лоб - кажись температура. Позвал медсестру, мне вручили градусник - сказали “меряй”, померял, 37.3, начались допросы - не простудился-ли ты часом, болит что? Говорю: горло немного болит. Повели к ЛОРу на этаж повыше, ЛОР бегло осмотрел меня, сказал патологий нет и дал добро на операцию. Ну добро так добро! Отлично!&lt;/p&gt;&lt;p&gt;Дальше повели в саму операционную делать наркоз, положили меня, в одну руку катетер вставили, на другую тонометр и фиговину пульс меряющую на палец. Было холодно, конечно блин холодно, на меня кондиционер дует :) Всё шутили, были такими позитивными, это радовало, а я их расспрашивал обо всём в свою очередь, чем скорее всего неплохо заебал их :) Ну анестезиолога уж точно! Спрашивал у них: “А болючий-ли этот укол, в позвоночник?” сказали нет, как комарик. Говорю - я ж не маленький, можете честно ответить, просто интересно. Ответ не изменился :(&lt;/p&gt;&lt;p&gt;И вот пришел анестезиолог, его я тоже начал расспрашивать обо всём. Он тоже почему-то ограничился “Будет не больно, может быть прострел или тянущее чувство”, ну как, успокоил, блин… Посадили меня, согнули спину и начали общупывать куда ж колоть. Тут началось больно. Раз 10 он тыкал иголкой пока попал куда нужно, но попал! Начало тянуть в левой части спины, возле места укола, потом стрельнуло пару раз, в общем всё как обещали. Откололи, положили меня и начали расспрашивать: “Немеет? Покалывания есть? Ногу можешь поднять?” а я что? Покалываний почти нет, ногу поднять могу и поднимаю! И так через каждую минуту. Минут через 10 начала неплохо неметь левая нога, но операция-то на правой :) Через 15 минут решили колоть меня иголкой чтоб проверить. Там где нужно чувствовал острую боль, а там где нет - отдалённую. И всё спрашивали: “Ногу можешь поднять?”, говорю да и поднимаю. Они говорят - зачем поднимаешь?! Вы ж сами просите! И как я узнаю немеет или нет если делать ничего не буду? Весело в общем. Минут через 20 пришел бывалый врач-анестезиолог и сказал что это не дело и нужно ебашить ещё! Меня снова посадили, ебанули ещё укол в спину. На этот раз целился он дольше. Похоже я неплохо оброс жиром (: Ещё минут через 10 я уже не мог адекватно согнуть ногу в голени, мне вставили ещё один катетер прям в хуй. Закрыли меня ширмой от предполагаемого действа и пришли доктора.&lt;/p&gt;&lt;p&gt;Чувствую что прикоснулись ко мне так неприятно к колену, потом как будто пальцами чашечку отодвигают спрашиваю:&lt;/p&gt;&lt;blockquote&gt; &lt;ul&gt; &lt;li&gt;Шо ж вы делаете? Я всё чувствую!&lt;/li&gt; &lt;li&gt;А ты где-то вдалеке чувствуешь или как своё?&lt;/li&gt; &lt;li&gt;Вдалеке.&lt;/li&gt; &lt;li&gt;А ну ладно&lt;/li&gt; &lt;/ul&gt; &lt;/blockquote&gt;&lt;p&gt;И вот уже второе прикосновение неприятное, снова ощущение чего-то неродного под чашечкой и тут отодвигают ширму, показывают мне на экране сустав изнутри, говорят “Вот это кусок твоей связки, вот мениск надломанный” и в таком духе. А я-то всё чувствую. И говорю им такой “Ааай”, а они, вместо того, чтоб подождать - ширмочку задвигают и шепчутся между собой “давай, вырубай его”, над головой у меня шепчутся, понимаешь-ли. Говорю:&lt;/p&gt;&lt;blockquote&gt; &lt;ul&gt; &lt;li&gt;Не надо меня вырубать.&lt;/li&gt; &lt;li&gt;Не подслушивай, всё что тебе надо - мы расскажем.&lt;/li&gt; &lt;li&gt;Ширмочку верните хотя бы, интересно-же.&lt;/li&gt; &lt;li&gt;Потом на видео посмотришь.&lt;/li&gt; &lt;/ul&gt; &lt;/blockquote&gt;&lt;p&gt;И после этих слов я подумал “Ну вот, теперь скучно” и уснул (:&lt;/p&gt;&lt;p&gt;Проснулся, как я понял, когда операция закончилась, спрашиваю:&lt;/p&gt;&lt;blockquote&gt; &lt;ul&gt; &lt;li&gt;Я что уснул?&lt;/li&gt; &lt;li&gt;Да.&lt;/li&gt; &lt;li&gt;А я храпел?&lt;/li&gt; &lt;li&gt;Да.&lt;/li&gt; &lt;li&gt;:(&lt;/li&gt; &lt;/ul&gt; &lt;/blockquote&gt;&lt;p&gt;Снова проснулся, уже в интенсивной терапии, просил наушники - сказали, что никто туда не пойдёт в палату, а тем более в сумке рыться! Сказал где, потом всё-же принесли ^_^&lt;/p&gt;&lt;p&gt;А через день меня выписали ^_^&lt;/p&gt;&lt;p&gt;P.s: По деньгам вышло 8200грн за винты и 6300грн больнице за операцию/палату/лекарства/еду и пр. Но ещё лекарств где-то на 3000-3500грн нужно будет купить на реабилитацию.&lt;br /&gt; P.p.s: А видео записали криво, а точнее мало, только 8 минут того, как мне мениск чекрыжат. :(&lt;/p&gt; </description> <pubDate>Thu, 18 Sep 2014 04:34:59 +0300</pubDate><link>https://sima.pro/19.operaciya-na-kolene.html</link> <guid isPermaLink="true">https://sima.pro/19.operaciya-na-kolene.html</guid> <category>blog</category> </item> <item><title>UnicodeEncodeError при FileField.save</title> <description>&lt;p&gt;Если вы столкнулись с похожей ошибкой:&lt;/p&gt;&lt;blockquote&gt; &lt;p&gt;UnicodeEncodeError: ‘ascii’ codec can’t encode character u’\xe7’ in position 52: ordinal not in range(128)&lt;/p&gt; &lt;/blockquote&gt;&lt;p&gt;Проблема заключается в том, что в env python-а не установлен язык. Решается проблема таким образом (Для конфига supervisord):&lt;/p&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;code class="language-ini" data-lang="ini"&gt;&lt;span class="na"&gt;env&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;LANG=en_US.UTF-8&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Или, если у вас wsgi-приложение - где-то в начале файла написать:&lt;/p&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;LANG&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;en_US.UTF-8&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Иногда похожая ошибка (тогда всплывает &lt;code&gt;UnicodeDecodeError&lt;/code&gt;) возникается при попытке сделать:&lt;/p&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;u&amp;#39;какие-то юникодные символы&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Проблема в том, что python не может декодировать то, что вы пытаетесь вывести в stdout. Тогда нужно ещё и дописать в env такое:&lt;/p&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;code class="language-ini" data-lang="ini"&gt;&lt;span class="na"&gt;PYTHONIOENCODING&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;UTF-8&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt; </description> <pubDate>Fri, 25 Apr 2014 13:13:10 +0300</pubDate><link>https://sima.pro/16.unicodeencodeerror-pri-filefieldsave.html</link> <guid isPermaLink="true">https://sima.pro/16.unicodeencodeerror-pri-filefieldsave.html</guid> <category>programming</category> <category>python</category> <category>django</category> </item> <item><title>Agent admitted failure to sign using the key</title> <description>&lt;p&gt;Если при подключении к ssh-серверу вы получаете ошибку:&lt;/p&gt;&lt;blockquote&gt; &lt;p&gt;Agent admitted failure to sign using the key&lt;/p&gt; &lt;/blockquote&gt;&lt;p&gt;Нужно просто выполнить:&lt;/p&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;code class="language-bash" data-lang="bash"&gt;ssh-add&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;А если получаете сообщение о том, что не запущен &lt;code&gt;ssh-agent&lt;/code&gt; - нужно его запустить:&lt;/p&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="nb"&gt;eval&lt;/span&gt; &lt;span class="k"&gt;$(&lt;/span&gt;ssh-agent&lt;span class="k"&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt; </description> <pubDate>Mon, 18 Nov 2013 00:17:13 +0200</pubDate><link>https://sima.pro/12.agent-admitted-failure-sign-using-key.html</link> <guid isPermaLink="true">https://sima.pro/12.agent-admitted-failure-sign-using-key.html</guid> <category>ssh</category> <category>linux</category> <category>ssh-agent</category> <category>ubuntu</category> <category>tip</category> </item> <item><title>Установка Pillow/Pil в Ubuntu, Windows</title> <description>&lt;p&gt;Чтоб не искать каждый раз, сохраню.&lt;/p&gt;&lt;p&gt;В систему нужно поставить:&lt;/p&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;code class="language-bash" data-lang="bash"&gt;sudo -i apt-get install python-dev libjpeg62 libjpeg62-dev zlib1g-dev libfreetype6 libfreetype6-dev ln -s /usr/lib/x86_64-linux-gnu/libjpeg.so /usr/lib ln -s /usr/lib/x86_64-linux-gnu/libfreetype.so /usr/lib ln -s /usr/lib/x86_64-linux-gnu/libz.so /usr/lib&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;И ставим Pil или Pillow, который, теперь уже удачно скомпилится.&lt;/p&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;code class="language-bash" data-lang="bash"&gt;pip install -U PIL&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;или&lt;/p&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;code class="language-bash" data-lang="bash"&gt;pip install -U Pillow&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;P.s: Для винды он не скомпилится, есть &lt;a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#pil"&gt;бинарники&lt;/a&gt;, которые нужно ставить. И если используете virtualenv - при создании оной нужно указать –site-packages т.к. python из venv-a не найдёт Pil.&lt;/p&gt; </description> <pubDate>Tue, 10 Sep 2013 00:48:47 +0300</pubDate><link>https://sima.pro/11.ustanovka-pillowpil-v-ubuntu.html</link> <guid isPermaLink="true">https://sima.pro/11.ustanovka-pillowpil-v-ubuntu.html</guid> <category>python</category> <category>ubuntu</category> <category>tip</category> </item> <item><title>UnicodeDecodeError 'ascii' codec can't decode byte 0xd0 in position 0: ordinal not in range(128)</title> <description>&lt;p&gt;Всплыла сегодня такая ошибка при редактировании модели в админке Django. Решение лежит по адресу:&lt;/p&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.utils.encoding&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;smart_unicode&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Нужно просто обернуть то что возвращает метод &lt;code&gt;__unicode__&lt;/code&gt; проблемной модели в &lt;code&gt;smart_unicode&lt;/code&gt;. То есть, было:&lt;/p&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__unicode__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Стало:&lt;/p&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__unicode__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;smart_unicode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;em&gt;ToDo: Написать больше о причинах и как бороться с этим&lt;/em&gt;&lt;/p&gt; </description> <pubDate>Sun, 08 Sep 2013 17:52:25 +0300</pubDate><link>https://sima.pro/9.unicodedecodeerror-ascii-codec-cant-decode-byte-0xd0-position-0-ordinal-not-range128.html</link> <guid isPermaLink="true">https://sima.pro/9.unicodedecodeerror-ascii-codec-cant-decode-byte-0xd0-position-0-ordinal-not-range128.html</guid> <category>python</category> <category>django</category> </item> </channel> </rss>